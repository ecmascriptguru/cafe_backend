{% extends 'layouts/print_base.html' %}

{% block content %}
<body style="width:57mm;">
    <div class="header">
        <h3 style="border-bottom: solid 4px;">延吉最新酒吧订单</h3>
    </div>
    <h5 class="order-sub-title">卓台: {{ object.table.name }}</h5>
    <h5 class="order-sub-title">水单流水: {{ object.pk }}</h5>
    <h5 class="order-sub-title">结帐时间: {{ object.modified|date:'Y-m-d H:i' }}</h5>
    <div class="">
        <table width="100%" class="table order-items-list">
            <thead>
                <tr style="border-top: solid 4px;">
                    <th>菜品</th>
                    <th>单价</th>
                    <th>数量</th>
                    <th>金额</th>
                </tr>
            </thead>
            <tbody>
                {% for item in object.print_items.all %}
                <tr style="border-top: solid 4px;">
                    <td>{{ item.dish.name|truncatechars:7 }}{% if item.is_booking_order_item %}<br/>({{ item.to_table.name }}){% endif %}</td>
                    <td>&yen;{{ item.dish.price }}</td>
                    <td>{{ item.amount }}</td>
                    <td>&yen;{{ item.subtotal }}</td>
                </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <tr style="border-top: solid 4px;">
                    <td colspan="2">小计</td>
                    <td>{{ object.print_total_amount }}</td>
                    <td>&yen;{{ object.print_total_sum }}</td>
                </tr>
                <tr style="border-top: solid 4px;">
                    <td colspan="3">应收</td>
                    <td>&yen;{{ object.print_total_sum }}</td>
                </tr>
            </tfoot>
        </table>
    </div>
</body>
{% endblock content %}